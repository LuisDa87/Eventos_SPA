/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";var t,n,e=function(t){localStorage.setItem("user",JSON.stringify(t))},r=function(){var t=localStorage.getItem("user");return t?JSON.parse(t):null};function o(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",i=e.toStringTag||"@@toStringTag";function c(e,r,o,i){var c=r&&r.prototype instanceof s?r:s,l=Object.create(c.prototype);return a(l,"_invoke",function(e,r,o){var a,i,c,s=0,l=o||[],f=!1,d={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(n,e){return a=n,i=0,c=t,d.n=e,u}};function p(e,r){for(i=e,c=r,n=0;!f&&s&&!o&&n<l.length;n++){var o,a=l[n],p=d.p,v=a[2];e>3?(o=v===r)&&(c=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=t):a[0]<=p&&((o=e<2&&p<a[1])?(i=0,d.v=r,d.n=a[1]):p<v&&(o=e<3||a[0]>r||r>v)&&(a[4]=e,a[5]=r,d.n=v,i=0))}if(o||e>1)return u;throw f=!0,r}return function(o,l,v){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,v),i=l,c=v;(n=i<2?t:c)||!f;){a||(i?i<3?(i>1&&(d.n=-1),p(i,c)):d.n=c:d.v=c);try{if(s=2,a){if(i||(o="next"),n=a[o]){if(!(n=n.call(a,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,i<2&&(i=0)}else 1===i&&(n=a.return)&&n.call(a),i<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=t}else if((n=(f=d.n<0)?c:e.call(r,d))!==u)break}catch(n){a=t,i=1,c=n}finally{s=1}}return{value:n,done:f}}}(e,o,i),!0),l}var u={};function s(){}function l(){}function f(){}n=Object.getPrototypeOf;var d=[][r]?n(n([][r]())):(a(n={},r,function(){return this}),n),p=f.prototype=s.prototype=Object.create(d);function v(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,a(t,i,"GeneratorFunction")),t.prototype=Object.create(p),t}return l.prototype=f,a(p,"constructor",f),a(f,"constructor",l),l.displayName="GeneratorFunction",a(f,i,"GeneratorFunction"),a(p),a(p,i,"Generator"),a(p,r,function(){return this}),a(p,"toString",function(){return"[object Generator]"}),(o=function(){return{w:c,m:v}})()}function a(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}a=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var i=function(n,e){a(t,n,function(t){return this._invoke(n,e,t)})};i("next",0),i("throw",1),i("return",2)}},a(t,n,e,r)}function i(t,n,e,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void e(t)}c.done?n(u):Promise.resolve(u).then(r,o)}function c(t){return function(){var n=this,e=arguments;return new Promise(function(r,o){var a=t.apply(n,e);function c(t){i(a,r,o,c,u,"next",t)}function u(t){i(a,r,o,c,u,"throw",t)}c(void 0)})}}const u={render:(n=c(o().m(function t(){var n,e,a,i,c,u;return o().w(function(t){for(;;)if(0===t.n)return n=r(),e='\n            <div class="flex items-center space-x-4">\n                <a href="#/login" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium transition">\n                    Iniciar Sesión\n                </a>\n                <a href="#/register" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-md text-sm font-medium transition">\n                    Registrarse\n                </a>\n            </div>\n        ',a='\n            <div class="flex items-center space-x-4">\n                <span class="text-gray-300">Hola, '.concat(n?n.name:"",'</span>\n                <a href="#/create-event" class="text-gray-300 hover:bg-gray-700 px-3 py-2 rounded-md">Crear Evento</a>\n                <a href="#/my-events" class="text-gray-300 hover:bg-gray-700 px-3 py-2 rounded-md">Mis Eventos</a>\n                <a href="#/my-subscriptions" class="text-gray-300 hover:bg-gray-700 px-3 py-2 rounded-md">Mis Suscripciones</a>\n                <a href="#" id="logout-button" class="bg-red-500 hover:bg-red-600 px-3 py-2 rounded-md text-sm font-medium transition">Salir</a>\n            </div>\n        '),i='\n            <div class="flex items-center space-x-4">\n                <span class="text-gray-300 font-semibold">Hola, '.concat(n?n.name:"",' (Admin)</span>\n                <a href="#/create-event" class="text-gray-300 hover:bg-gray-700 px-3 py-2 rounded-md">Crear Evento</a>\n                <a href="#/admin/events" class="text-gray-300 hover:bg-gray-700 px-3 py-2 rounded-md">Administrar Eventos</a>\n                <a href="#/admin/dashboard" class="text-gray-300 hover:bg-gray-700 px-3 py-2 rounded-md">Dashboard</a>\n                <a href="#" id="logout-button" class="bg-red-500 hover:bg-red-600 px-3 py-2 rounded-md text-sm font-medium transition">Salir</a>\n            </div>\n        '),c=n?"admin"===n.role?i:"register"===n.role?a:e:e,u='\n            <nav class="bg-gray-900 text-white shadow-lg sticky top-0 z-50">\n                <div class="max-w-7xl mx-auto px-4">\n                    <div class="flex justify-between h-16">\n                        <div class="flex items-center">\n                            <a href="#/" class="font-bold text-2xl tracking-wider">EVENTOS.CO</a>\n                        </div>\n                        '.concat(c,"\n                    </div>\n                </div>\n            </nav>\n        "),t.a(2,u)},t)})),function(){return n.apply(this,arguments)}),after_render:(t=c(o().m(function t(){var n;return o().w(function(t){for(;;)switch(t.n){case 0:(n=document.getElementById("logout-button"))&&n.addEventListener("click",function(t){t.preventDefault(),localStorage.removeItem("user"),window.location.hash="/login"});case 1:return t.a(2)}},t)})),function(){return t.apply(this,arguments)})};function s(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function a(e,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return l(s,"_invoke",function(e,r,o){var a,c,u,s=0,l=o||[],f=!1,d={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(n,e){return a=n,c=0,u=t,d.n=e,i}};function p(e,r){for(c=e,u=r,n=0;!f&&s&&!o&&n<l.length;n++){var o,a=l[n],p=d.p,v=a[2];e>3?(o=v===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=p&&((o=e<2&&p<a[1])?(c=0,d.v=r,d.n=a[1]):p<v&&(o=e<3||a[0]>r||r>v)&&(a[4]=e,a[5]=r,d.n=v,c=0))}if(o||e>1)return i;throw f=!0,r}return function(o,l,v){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,v),c=l,u=v;(n=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(d.n=-1),p(c,u)):d.n=u:d.v=u);try{if(s=2,a){if(c||(o="next"),n=a[o]){if(!(n=n.call(a,u)))throw TypeError("iterator result is not an object");if(!n.done)return n;u=n.value,c<2&&(c=0)}else 1===c&&(n=a.return)&&n.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((n=(f=d.n<0)?u:e.call(r,d))!==i)break}catch(n){a=t,c=1,u=n}finally{s=1}}return{value:n,done:f}}}(e,o,a),!0),s}var i={};function c(){}function u(){}function f(){}n=Object.getPrototypeOf;var d=[][r]?n(n([][r]())):(l(n={},r,function(){return this}),n),p=f.prototype=c.prototype=Object.create(d);function v(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,l(t,o,"GeneratorFunction")),t.prototype=Object.create(p),t}return u.prototype=f,l(p,"constructor",f),l(f,"constructor",u),u.displayName="GeneratorFunction",l(f,o,"GeneratorFunction"),l(p),l(p,o,"Generator"),l(p,r,function(){return this}),l(p,"toString",function(){return"[object Generator]"}),(s=function(){return{w:a,m:v}})()}function l(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}l=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var a=function(n,e){l(t,n,function(t){return this._invoke(n,e,t)})};a("next",0),a("throw",1),a("return",2)}},l(t,n,e,r)}function f(t,n,e,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void e(t)}c.done?n(u):Promise.resolve(u).then(r,o)}function d(t){return function(){var n=this,e=arguments;return new Promise(function(r,o){var a=t.apply(n,e);function i(t){f(a,r,o,i,c,"next",t)}function c(t){f(a,r,o,i,c,"throw",t)}i(void 0)})}}var p="http://localhost:4000",v=function(){var t=d(s().m(function t(n){var e,r,o,a;return s().w(function(t){for(;;)switch(t.p=t.n){case 0:return e="".concat(p).concat(n),t.p=1,t.n=2,fetch(e);case 2:if((r=t.v).ok){t.n=3;break}throw new Error("HTTP error! Status: ".concat(r.status));case 3:return t.n=4,r.json();case 4:return o=t.v,t.a(2,Array.isArray(o)?o:[o]);case 5:return t.p=5,a=t.v,console.error("Error en getData:",a.message),t.a(2,[])}},t,null,[[1,5]])}));return function(n){return t.apply(this,arguments)}}(),y=function(){var t=d(s().m(function t(n,e){var r,o,a;return s().w(function(t){for(;;)switch(t.p=t.n){case 0:return r="".concat(p).concat(n),t.p=1,t.n=2,fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:if((o=t.v).ok){t.n=3;break}throw new Error("HTTP error! Status: ".concat(o.status));case 3:return t.n=4,o.json();case 4:return t.a(2,t.v);case 5:return t.p=5,a=t.v,console.error("Error en postData:",a.message),t.a(2,null)}},t,null,[[1,5]])}));return function(n,e){return t.apply(this,arguments)}}(),b=function(){var t=d(s().m(function t(n,e){var r,o,a;return s().w(function(t){for(;;)switch(t.p=t.n){case 0:return r="".concat(p).concat(n),t.p=1,t.n=2,fetch(r,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:if((o=t.v).ok){t.n=3;break}throw new Error("HTTP error! Status: ".concat(o.status));case 3:return t.n=4,o.json();case 4:return t.a(2,t.v);case 5:return t.p=5,a=t.v,console.error("Error en putData:",a.message),t.a(2,null)}},t,null,[[1,5]])}));return function(n,e){return t.apply(this,arguments)}}(),h=function(){var t=d(s().m(function t(n){var e,r,o;return s().w(function(t){for(;;)switch(t.p=t.n){case 0:return e="".concat(p).concat(n),t.p=1,t.n=2,fetch(e,{method:"DELETE"});case 2:if((r=t.v).ok){t.n=3;break}throw new Error("HTTP error! Status: ".concat(r.status));case 3:return t.a(2,!0);case 4:return t.p=4,o=t.v,console.error("Error en deleteData:",o.message),t.a(2,!1)}},t,null,[[1,4]])}));return function(n){return t.apply(this,arguments)}}();const g=v;function m(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function a(e,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return x(s,"_invoke",function(e,r,o){var a,c,u,s=0,l=o||[],f=!1,d={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(n,e){return a=n,c=0,u=t,d.n=e,i}};function p(e,r){for(c=e,u=r,n=0;!f&&s&&!o&&n<l.length;n++){var o,a=l[n],p=d.p,v=a[2];e>3?(o=v===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=p&&((o=e<2&&p<a[1])?(c=0,d.v=r,d.n=a[1]):p<v&&(o=e<3||a[0]>r||r>v)&&(a[4]=e,a[5]=r,d.n=v,c=0))}if(o||e>1)return i;throw f=!0,r}return function(o,l,v){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,v),c=l,u=v;(n=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(d.n=-1),p(c,u)):d.n=u:d.v=u);try{if(s=2,a){if(c||(o="next"),n=a[o]){if(!(n=n.call(a,u)))throw TypeError("iterator result is not an object");if(!n.done)return n;u=n.value,c<2&&(c=0)}else 1===c&&(n=a.return)&&n.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((n=(f=d.n<0)?u:e.call(r,d))!==i)break}catch(n){a=t,c=1,u=n}finally{s=1}}return{value:n,done:f}}}(e,o,a),!0),s}var i={};function c(){}function u(){}function s(){}n=Object.getPrototypeOf;var l=[][r]?n(n([][r]())):(x(n={},r,function(){return this}),n),f=s.prototype=c.prototype=Object.create(l);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,x(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,x(f,"constructor",s),x(s,"constructor",u),u.displayName="GeneratorFunction",x(s,o,"GeneratorFunction"),x(f),x(f,o,"Generator"),x(f,r,function(){return this}),x(f,"toString",function(){return"[object Generator]"}),(m=function(){return{w:a,m:d}})()}function x(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}x=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var a=function(n,e){x(t,n,function(t){return this._invoke(n,e,t)})};a("next",0),a("throw",1),a("return",2)}},x(t,n,e,r)}function w(t,n,e,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void e(t)}c.done?n(u):Promise.resolve(u).then(r,o)}function j(t){return function(){var n=this,e=arguments;return new Promise(function(r,o){var a=t.apply(n,e);function i(t){w(a,r,o,i,c,"next",t)}function c(t){w(a,r,o,i,c,"throw",t)}i(void 0)})}}var E={render:function(){var t=j(m().m(function t(){var n,e,o,a;return m().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,g("/events");case 1:return n=t.v,e=r(),o=function(t){if(e&&"register"===e.role){var n=t.attendees.includes(e.id),r=t.attendees.length>=t.capacity;return n?'<span class="font-bold text-green-600">¡Inscrito!</span>':r?'<span class="font-bold text-red-600">¡Lleno!</span>':'<button data-event-id="'.concat(t.id,'" class="subscribe-btn bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg transition">Suscribirme</button>')}return'<span class="text-sm font-bold '.concat(t.attendees.length>=t.capacity?"text-red-500":"text-green-500",'">\n                        ').concat(t.attendees.length>=t.capacity?"¡Lleno!":"".concat(t.capacity-t.attendees.length," cupos"),"\n                    </span>")},a='\n            \x3c!-- Hero Section --\x3e\n            <div class="relative h-96 bg-gray-800 text-white flex items-center justify-center">\n                <img src="https://images.unsplash.com/photo-1501281668745-f7f57925c3b4?q=80&w=2070&auto=format&fit=crop" class="absolute w-full h-full object-cover opacity-50" alt="">\n                <div class="relative z-10 text-center p-4">\n                    <h1 class="text-5xl font-extrabold tracking-tight">DESCUBRE LOS MEJORES EVENTOS</h1>\n                    <p class="mt-4 text-xl max-w-2xl mx-auto">Encuentra conciertos, conferencias, eventos deportivos y mucho más en tu ciudad.</p>\n                    <a href="#events" class="mt-8 inline-block bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-8 rounded-lg transition duration-300">\n                        Explorar Eventos\n                    </a>\n                </div>\n            </div>\n\n            \x3c!-- Secciones de Eventos por Categoría --\x3e\n            <div id="events" class="container mx-auto px-4 py-12">\n                '.concat(["Cultural","Deportivo","Social","Empresarial","Académico"].map(function(t){var e=n.filter(function(n){return n.category===t});return 0===e.length?"":'\n                        <section class="mb-12">\n                            <h2 class="text-3xl font-bold text-gray-800 border-b-4 border-orange-500 pb-2 mb-8">'.concat(t,'</h2>\n                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">\n                                ').concat(e.map(function(t){return'\n                                    <div class="bg-white rounded-lg shadow-lg overflow-hidden flex flex-col">\n                                        <img src="'.concat(t.image,'" alt="').concat(t.name,'" class="w-full h-48 object-cover">\n                                        <div class="p-6 flex flex-col flex-grow">\n                                            <h3 class="text-xl font-bold text-gray-900 mb-2">').concat(t.name,'</h3>\n                                            <p class="text-gray-600 text-sm mb-4">').concat(new Date(t.date).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}),'</p>\n                                            <p class="text-gray-700 mb-4 flex-grow">').concat(t.description.substring(0,100),'...</p>\n                                            <div class="mt-auto flex justify-between items-center pt-4 border-t">\n                                                <span class="text-sm font-semibold text-gray-800 bg-gray-200 px-3 py-1 rounded-full">').concat(t.category,"</span>\n                                                ").concat(o(t),"\n                                            </div>\n                                        </div>\n                                    </div>\n                                ")}).join(""),"\n                            </div>\n                        </section>\n                    ")}).join(""),"\n            </div>\n        "),t.a(2,a)}},t)}));return function(){return t.apply(this,arguments)}}(),after_render:function(){var t=j(m().m(function t(){var n,e;return m().w(function(t){for(;;)switch(t.n){case 0:n=document.querySelectorAll(".subscribe-btn"),e=r(),n.forEach(function(t){t.addEventListener("click",function(){var t=j(m().m(function t(n){var r,o,a;return m().w(function(t){for(;;)switch(t.n){case 0:if(e&&"register"===e.role){t.n=1;break}return t.a(2);case 1:return r=n.target.dataset.eventId,t.n=2,g("/events/".concat(r));case 2:if(o=t.v,!(a=o[0])||a.attendees.includes(e.id)){t.n=4;break}return a.attendees.push(e.id),t.n=3,b("/events/".concat(r),a);case 3:t.v?(alert("¡Te has inscrito al evento con éxito!"),window.location.reload()):alert("Hubo un error al inscribirte. Inténtalo de nuevo.");case 4:return t.a(2)}},t)}));return function(n){return t.apply(this,arguments)}}())});case 1:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}()};const O=E;function S(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function a(e,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return T(s,"_invoke",function(e,r,o){var a,c,u,s=0,l=o||[],f=!1,d={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(n,e){return a=n,c=0,u=t,d.n=e,i}};function p(e,r){for(c=e,u=r,n=0;!f&&s&&!o&&n<l.length;n++){var o,a=l[n],p=d.p,v=a[2];e>3?(o=v===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=p&&((o=e<2&&p<a[1])?(c=0,d.v=r,d.n=a[1]):p<v&&(o=e<3||a[0]>r||r>v)&&(a[4]=e,a[5]=r,d.n=v,c=0))}if(o||e>1)return i;throw f=!0,r}return function(o,l,v){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,v),c=l,u=v;(n=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(d.n=-1),p(c,u)):d.n=u:d.v=u);try{if(s=2,a){if(c||(o="next"),n=a[o]){if(!(n=n.call(a,u)))throw TypeError("iterator result is not an object");if(!n.done)return n;u=n.value,c<2&&(c=0)}else 1===c&&(n=a.return)&&n.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((n=(f=d.n<0)?u:e.call(r,d))!==i)break}catch(n){a=t,c=1,u=n}finally{s=1}}return{value:n,done:f}}}(e,o,a),!0),s}var i={};function c(){}function u(){}function s(){}n=Object.getPrototypeOf;var l=[][r]?n(n([][r]())):(T(n={},r,function(){return this}),n),f=s.prototype=c.prototype=Object.create(l);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,T(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,T(f,"constructor",s),T(s,"constructor",u),u.displayName="GeneratorFunction",T(s,o,"GeneratorFunction"),T(f),T(f,o,"Generator"),T(f,r,function(){return this}),T(f,"toString",function(){return"[object Generator]"}),(S=function(){return{w:a,m:d}})()}function T(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}T=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var a=function(n,e){T(t,n,function(t){return this._invoke(n,e,t)})};a("next",0),a("throw",1),a("return",2)}},T(t,n,e,r)}function k(t,n,e,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void e(t)}c.done?n(u):Promise.resolve(u).then(r,o)}function _(t){return function(){var n=this,e=arguments;return new Promise(function(r,o){var a=t.apply(n,e);function i(t){k(a,r,o,i,c,"next",t)}function c(t){k(a,r,o,i,c,"throw",t)}i(void 0)})}}var P={render:function(){var t=_(S().m(function t(){return S().w(function(t){for(;;)if(0===t.n)return t.a(2,'\n            <div class="min-h-screen bg-gray-100 flex items-center justify-center">\n                <div class="bg-white shadow-lg rounded-lg flex w-full max-w-4xl overflow-hidden">\n                    \x3c!-- Columna Izquierda con Imagen y Texto --\x3e\n                    <div class="hidden md:flex w-1/2 bg-cover bg-center p-12 text-white" style="background-image: url(\'https://images.unsplash.com/photo-1486520299386-6d106b22014b?q=80&w=2069&auto=format&fit=crop\')">\n                        <div class="flex flex-col justify-between">\n                            <div>\n                                <h2 class="text-4xl font-bold">Welcome Back</h2>\n                                <p class="mt-4 text-lg">It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout.</p>\n                            </div>\n                            <div class="flex space-x-4">\n                                <a href="#" class="hover:opacity-75">FB</a>\n                                <a href="#" class="hover:opacity-75">TW</a>\n                                <a href="#" class="hover:opacity-75">IG</a>\n                            </div>\n                        </div>\n                    </div>\n                    \x3c!-- Columna Derecha con Formulario --\x3e\n                    <div class="w-full md:w-1/2 p-8 md:p-12">\n                        <h2 class="text-3xl font-bold text-gray-800 mb-6">Sign in</h2>\n                        <form id="login-form">\n                            <div class="mb-4">\n                                <label for="login-email" class="block text-gray-700 text-sm font-bold mb-2">Email Address</label>\n                                <input type="email" id="login-email" name="email" class="shadow appearance-none border rounded w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" placeholder="Enter your email" required>\n                            </div>\n                            <div class="mb-6">\n                                <label for="login-password" class="block text-gray-700 text-sm font-bold mb-2">Password</label>\n                                <input type="password" id="login-password" name="password" class="shadow appearance-none border rounded w-full py-3 px-4 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline" placeholder="******************" required>\n                            </div>\n                            <div class="flex items-center justify-start mb-6">\n                                <button type="submit" class="bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-6 rounded-lg focus:outline-none focus:shadow-outline transition duration-300">\n                                    Sign in now\n                                </button>\n                                \x3c!-- El botón de "Lost your password?" ha sido eliminado --\x3e\n                            </div>\n                        </form>\n                        <hr class="my-6">\n                        <p class="text-center text-gray-600">\n                            Don\'t have an account? \n                            <a href="#/register" class="font-bold text-orange-500 hover:text-orange-700">Sign up</a>\n                        </p>\n                    </div>\n                </div>\n            </div>\n        ')},t)}));return function(){return t.apply(this,arguments)}}(),after_render:function(){var t=_(S().m(function t(){return S().w(function(t){for(;;)switch(t.n){case 0:document.getElementById("login-form").addEventListener("submit",function(){var t=_(S().m(function t(n){var r,o,a;return S().w(function(t){for(;;)switch(t.n){case 0:return n.preventDefault(),r=n.target.elements.email.value,o=n.target.elements.password.value,t.n=1,g("/users?email=".concat(r,"&password=").concat(o));case 1:(a=t.v).length>0?(e(a[0]),window.location.hash="/"):alert("Correo o contraseña incorrectos.");case 2:return t.a(2)}},t)}));return function(n){return t.apply(this,arguments)}}());case 1:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}()};const G=P;function F(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function a(e,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return N(s,"_invoke",function(e,r,o){var a,c,u,s=0,l=o||[],f=!1,d={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(n,e){return a=n,c=0,u=t,d.n=e,i}};function p(e,r){for(c=e,u=r,n=0;!f&&s&&!o&&n<l.length;n++){var o,a=l[n],p=d.p,v=a[2];e>3?(o=v===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=p&&((o=e<2&&p<a[1])?(c=0,d.v=r,d.n=a[1]):p<v&&(o=e<3||a[0]>r||r>v)&&(a[4]=e,a[5]=r,d.n=v,c=0))}if(o||e>1)return i;throw f=!0,r}return function(o,l,v){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,v),c=l,u=v;(n=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(d.n=-1),p(c,u)):d.n=u:d.v=u);try{if(s=2,a){if(c||(o="next"),n=a[o]){if(!(n=n.call(a,u)))throw TypeError("iterator result is not an object");if(!n.done)return n;u=n.value,c<2&&(c=0)}else 1===c&&(n=a.return)&&n.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((n=(f=d.n<0)?u:e.call(r,d))!==i)break}catch(n){a=t,c=1,u=n}finally{s=1}}return{value:n,done:f}}}(e,o,a),!0),s}var i={};function c(){}function u(){}function s(){}n=Object.getPrototypeOf;var l=[][r]?n(n([][r]())):(N(n={},r,function(){return this}),n),f=s.prototype=c.prototype=Object.create(l);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,N(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,N(f,"constructor",s),N(s,"constructor",u),u.displayName="GeneratorFunction",N(s,o,"GeneratorFunction"),N(f),N(f,o,"Generator"),N(f,r,function(){return this}),N(f,"toString",function(){return"[object Generator]"}),(F=function(){return{w:a,m:d}})()}function N(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}N=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var a=function(n,e){N(t,n,function(t){return this._invoke(n,e,t)})};a("next",0),a("throw",1),a("return",2)}},N(t,n,e,r)}function I(t,n,e,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void e(t)}c.done?n(u):Promise.resolve(u).then(r,o)}function A(t){return function(){var n=this,e=arguments;return new Promise(function(r,o){var a=t.apply(n,e);function i(t){I(a,r,o,i,c,"next",t)}function c(t){I(a,r,o,i,c,"throw",t)}i(void 0)})}}var C={render:function(){var t=A(F().m(function t(){return F().w(function(t){for(;;)if(0===t.n)return t.a(2,'\n            <div class="min-h-screen bg-gray-100 flex items-center justify-center">\n                <div class="bg-white shadow-lg rounded-lg flex w-full max-w-4xl overflow-hidden">\n                    \x3c!-- Columna Izquierda con Imagen y Texto --\x3e\n                    <div class="hidden md:flex w-1/2 bg-cover bg-center p-12 text-white" style="background-image: url(\'https://images.unsplash.com/photo-1505238680356-667803448bb6?q=80&w=1974&auto=format&fit=crop\');">\n                        <div class="flex flex-col justify-center">\n                            <h2 class="text-4xl font-bold">Create your Account</h2>\n                            <p class="mt-4 text-lg">Join our community and start managing your events like a pro. It\'s free and only takes a minute.</p>\n                        </div>\n                    </div>\n                    \x3c!-- Columna Derecha con Formulario --\x3e\n                    <div class="w-full md:w-1/2 p-8 md:p-12">\n                        <h2 class="text-3xl font-bold text-gray-800 mb-6">Sign up</h2>\n                        <form id="register-form">\n                            <div class="mb-4">\n                                <label for="register-name" class="block text-gray-700 text-sm font-bold mb-2">Full Name</label>\n                                <input type="text" id="register-name" name="name" class="shadow appearance-none border rounded w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" required>\n                            </div>\n                            <div class="mb-4">\n                                <label for="register-email" class="block text-gray-700 text-sm font-bold mb-2">Email Address</label>\n                                <input type="email" id="register-email" name="email" class="shadow appearance-none border rounded w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" required>\n                            </div>\n                            <div class="mb-6">\n                                <label for="register-password" class="block text-gray-700 text-sm font-bold mb-2">Password</label>\n                                <input type="password" id="register-password" name="password" class="shadow appearance-none border rounded w-full py-3 px-4 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline" required>\n                            </div>\n                            <div class="flex items-center justify-between mb-6">\n                                <button type="submit" class="bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-6 rounded-lg focus:outline-none focus:shadow-outline transition duration-300">\n                                    Create Account\n                                </button>\n                            </div>\n                        </form>\n                        <hr class="my-6">\n                        <p class="text-center text-gray-600">\n                            Already have an account? \n                            <a href="#/login" class="font-bold text-orange-500 hover:text-orange-700">Sign in</a>\n                        </p>\n                    </div>\n                </div>\n            </div>\n        ')},t)}));return function(){return t.apply(this,arguments)}}(),after_render:function(){var t=A(F().m(function t(){return F().w(function(t){for(;;)switch(t.n){case 0:document.getElementById("register-form").addEventListener("submit",function(){var t=A(F().m(function t(n){var e;return F().w(function(t){for(;;)switch(t.n){case 0:return n.preventDefault(),e={name:n.target.elements.name.value,email:n.target.elements.email.value,password:n.target.elements.password.value,role:"register"},t.n=1,g("/users?email=".concat(e.email));case 1:if(!(t.v.length>0)){t.n=2;break}return alert("Este correo electrónico ya está registrado."),t.a(2);case 2:return t.n=3,y("/users",e);case 3:t.v?(alert("¡Registro exitoso! Ahora serás redirigido para iniciar sesión."),window.location.hash="/login"):alert("Ocurrió un error durante el registro. Por favor, intenta de nuevo.");case 4:return t.a(2)}},t)}));return function(n){return t.apply(this,arguments)}}());case 1:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}()};const D=C,L=function(){return'\n        <div class="Error404">\n            <h2>Error 404</h2>\n        </div>\n    '};function q(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function a(e,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return B(s,"_invoke",function(e,r,o){var a,c,u,s=0,l=o||[],f=!1,d={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(n,e){return a=n,c=0,u=t,d.n=e,i}};function p(e,r){for(c=e,u=r,n=0;!f&&s&&!o&&n<l.length;n++){var o,a=l[n],p=d.p,v=a[2];e>3?(o=v===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=p&&((o=e<2&&p<a[1])?(c=0,d.v=r,d.n=a[1]):p<v&&(o=e<3||a[0]>r||r>v)&&(a[4]=e,a[5]=r,d.n=v,c=0))}if(o||e>1)return i;throw f=!0,r}return function(o,l,v){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,v),c=l,u=v;(n=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(d.n=-1),p(c,u)):d.n=u:d.v=u);try{if(s=2,a){if(c||(o="next"),n=a[o]){if(!(n=n.call(a,u)))throw TypeError("iterator result is not an object");if(!n.done)return n;u=n.value,c<2&&(c=0)}else 1===c&&(n=a.return)&&n.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((n=(f=d.n<0)?u:e.call(r,d))!==i)break}catch(n){a=t,c=1,u=n}finally{s=1}}return{value:n,done:f}}}(e,o,a),!0),s}var i={};function c(){}function u(){}function s(){}n=Object.getPrototypeOf;var l=[][r]?n(n([][r]())):(B(n={},r,function(){return this}),n),f=s.prototype=c.prototype=Object.create(l);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,B(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,B(f,"constructor",s),B(s,"constructor",u),u.displayName="GeneratorFunction",B(s,o,"GeneratorFunction"),B(f),B(f,o,"Generator"),B(f,r,function(){return this}),B(f,"toString",function(){return"[object Generator]"}),(q=function(){return{w:a,m:d}})()}function B(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}B=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var a=function(n,e){B(t,n,function(t){return this._invoke(n,e,t)})};a("next",0),a("throw",1),a("return",2)}},B(t,n,e,r)}function H(t,n,e,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void e(t)}c.done?n(u):Promise.resolve(u).then(r,o)}function R(t){return function(){var n=this,e=arguments;return new Promise(function(r,o){var a=t.apply(n,e);function i(t){H(a,r,o,i,c,"next",t)}function c(t){H(a,r,o,i,c,"throw",t)}i(void 0)})}}var M={render:function(){var t=R(q().m(function t(){var n,e,r,o,a,i;return q().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,g("/events");case 1:return n=t.v,t.n=2,g("/users");case 2:return e=t.v,r=n.length,o=n.filter(function(t){return new Date(t.date)>new Date}).length,a=e.filter(function(t){return"register"===t.role}).length,i='\n            <div class="p-8">\n                <h1 class="text-3xl font-bold text-gray-800 mb-6">Dashboard de Administración</h1>\n                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">\n                    <div class="bg-white p-6 rounded-lg shadow-lg">\n                        <h3 class="text-lg font-semibold text-gray-700">Total de Eventos</h3>\n                        <p class="text-5xl font-bold text-blue-500 mt-2">'.concat(r,'</p>\n                    </div>\n                    <div class="bg-white p-6 rounded-lg shadow-lg">\n                        <h3 class="text-lg font-semibold text-gray-700">Eventos Próximos</h3>\n                        <p class="text-5xl font-bold text-green-500 mt-2">').concat(o,'</p>\n                    </div>\n                    <div class="bg-white p-6 rounded-lg shadow-lg">\n                        <h3 class="text-lg font-semibold text-gray-700">Usuarios Registrados</h3>\n                        <p class="text-5xl font-bold text-purple-500 mt-2">').concat(a,"</p>\n                    </div>\n                </div>\n            </div>\n        "),t.a(2,i)}},t)}));return function(){return t.apply(this,arguments)}}(),after_render:function(){var t=R(q().m(function t(){return q().w(function(t){for(;;)if(0===t.n)return t.a(2)},t)}));return function(){return t.apply(this,arguments)}}()};const z=M;function J(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function a(e,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return U(s,"_invoke",function(e,r,o){var a,c,u,s=0,l=o||[],f=!1,d={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(n,e){return a=n,c=0,u=t,d.n=e,i}};function p(e,r){for(c=e,u=r,n=0;!f&&s&&!o&&n<l.length;n++){var o,a=l[n],p=d.p,v=a[2];e>3?(o=v===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=p&&((o=e<2&&p<a[1])?(c=0,d.v=r,d.n=a[1]):p<v&&(o=e<3||a[0]>r||r>v)&&(a[4]=e,a[5]=r,d.n=v,c=0))}if(o||e>1)return i;throw f=!0,r}return function(o,l,v){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,v),c=l,u=v;(n=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(d.n=-1),p(c,u)):d.n=u:d.v=u);try{if(s=2,a){if(c||(o="next"),n=a[o]){if(!(n=n.call(a,u)))throw TypeError("iterator result is not an object");if(!n.done)return n;u=n.value,c<2&&(c=0)}else 1===c&&(n=a.return)&&n.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((n=(f=d.n<0)?u:e.call(r,d))!==i)break}catch(n){a=t,c=1,u=n}finally{s=1}}return{value:n,done:f}}}(e,o,a),!0),s}var i={};function c(){}function u(){}function s(){}n=Object.getPrototypeOf;var l=[][r]?n(n([][r]())):(U(n={},r,function(){return this}),n),f=s.prototype=c.prototype=Object.create(l);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,U(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,U(f,"constructor",s),U(s,"constructor",u),u.displayName="GeneratorFunction",U(s,o,"GeneratorFunction"),U(f),U(f,o,"Generator"),U(f,r,function(){return this}),U(f,"toString",function(){return"[object Generator]"}),(J=function(){return{w:a,m:d}})()}function U(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}U=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var a=function(n,e){U(t,n,function(t){return this._invoke(n,e,t)})};a("next",0),a("throw",1),a("return",2)}},U(t,n,e,r)}function V(t,n,e,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void e(t)}c.done?n(u):Promise.resolve(u).then(r,o)}function W(t){return function(){var n=this,e=arguments;return new Promise(function(r,o){var a=t.apply(n,e);function i(t){V(a,r,o,i,c,"next",t)}function c(t){V(a,r,o,i,c,"throw",t)}i(void 0)})}}var K={render:function(){var t=W(J().m(function t(){var n;return J().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,g("/events");case 1:return n=t.v,t.a(2,'\n            <div class="container mx-auto px-4 py-12">\n                <div class="flex justify-between items-center mb-6">\n                    <h1 class="text-3xl font-bold text-gray-800">Administrar Eventos</h1>\n                    <a href="#/create-event" class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-lg transition">\n                        + Crear Nuevo Evento\n                    </a>\n                </div>\n                <div class="bg-white shadow-lg rounded-lg overflow-x-auto">\n                    <table class="w-full table-auto">\n                        <thead class="bg-gray-800 text-white">\n                            <tr>\n                                <th class="px-4 py-3 text-left">Nombre del Evento</th>\n                                <th class="px-4 py-3 text-left">Fecha</th>\n                                <th class="px-4 py-3 text-left">Categoría</th>\n                                <th class="px-4 py-3 text-left">Capacidad</th>\n                                <th class="px-4 py-3 text-center">Acciones</th>\n                            </tr>\n                        </thead>\n                        <tbody class="text-gray-700">\n                            '.concat(n.map(function(t){return'\n                                <tr class="border-b hover:bg-gray-100">\n                                    <td class="px-4 py-3">'.concat(t.name,'</td>\n                                    <td class="px-4 py-3">').concat(new Date(t.date).toLocaleString("es-ES"),'</td>\n                                    <td class="px-4 py-3">').concat(t.category,'</td>\n                                    <td class="px-4 py-3">').concat(t.attendees.length," / ").concat(t.capacity,'</td>\n                                    <td class="px-4 py-3 text-center">\n                                        <a href="#/edit-event/').concat(t.id,'" class="bg-blue-500 hover:bg-blue-600 text-white text-sm font-bold py-1 px-3 rounded-lg mr-2">Editar</a>\n                                        <button data-id="').concat(t.id,'" class="delete-btn bg-red-500 hover:bg-red-600 text-white text-sm font-bold py-1 px-3 rounded-lg">Eliminar</button>\n                                    </td>\n                                </tr>\n                            ')}).join(""),"\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        "))}},t)}));return function(){return t.apply(this,arguments)}}(),after_render:function(){var t=W(J().m(function t(){return J().w(function(t){for(;;)switch(t.n){case 0:document.querySelectorAll(".delete-btn").forEach(function(t){t.addEventListener("click",function(){var t=W(J().m(function t(n){var e;return J().w(function(t){for(;;)switch(t.n){case 0:if(e=n.target.dataset.id,!confirm("¿Estás seguro de que deseas eliminar este evento? Esta acción no se puede deshacer.")){t.n=2;break}return t.n=1,h("/events/".concat(e));case 1:window.location.reload();case 2:return t.a(2)}},t)}));return function(n){return t.apply(this,arguments)}}())});case 1:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}()};const Q=K,X=function(){return location.hash.slice(1).toLocaleLowerCase()||"/"};function Y(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function a(e,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return Z(s,"_invoke",function(e,r,o){var a,c,u,s=0,l=o||[],f=!1,d={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(n,e){return a=n,c=0,u=t,d.n=e,i}};function p(e,r){for(c=e,u=r,n=0;!f&&s&&!o&&n<l.length;n++){var o,a=l[n],p=d.p,v=a[2];e>3?(o=v===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=p&&((o=e<2&&p<a[1])?(c=0,d.v=r,d.n=a[1]):p<v&&(o=e<3||a[0]>r||r>v)&&(a[4]=e,a[5]=r,d.n=v,c=0))}if(o||e>1)return i;throw f=!0,r}return function(o,l,v){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,v),c=l,u=v;(n=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(d.n=-1),p(c,u)):d.n=u:d.v=u);try{if(s=2,a){if(c||(o="next"),n=a[o]){if(!(n=n.call(a,u)))throw TypeError("iterator result is not an object");if(!n.done)return n;u=n.value,c<2&&(c=0)}else 1===c&&(n=a.return)&&n.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((n=(f=d.n<0)?u:e.call(r,d))!==i)break}catch(n){a=t,c=1,u=n}finally{s=1}}return{value:n,done:f}}}(e,o,a),!0),s}var i={};function c(){}function u(){}function s(){}n=Object.getPrototypeOf;var l=[][r]?n(n([][r]())):(Z(n={},r,function(){return this}),n),f=s.prototype=c.prototype=Object.create(l);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,Z(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,Z(f,"constructor",s),Z(s,"constructor",u),u.displayName="GeneratorFunction",Z(s,o,"GeneratorFunction"),Z(f),Z(f,o,"Generator"),Z(f,r,function(){return this}),Z(f,"toString",function(){return"[object Generator]"}),(Y=function(){return{w:a,m:d}})()}function Z(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Z=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var a=function(n,e){Z(t,n,function(t){return this._invoke(n,e,t)})};a("next",0),a("throw",1),a("return",2)}},Z(t,n,e,r)}function $(t,n,e,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void e(t)}c.done?n(u):Promise.resolve(u).then(r,o)}function tt(t){return function(){var n=this,e=arguments;return new Promise(function(r,o){var a=t.apply(n,e);function i(t){$(a,r,o,i,c,"next",t)}function c(t){$(a,r,o,i,c,"throw",t)}i(void 0)})}}var nt={render:function(){var t=tt(Y().m(function t(){var n,e,r,o,a;return Y().w(function(t){for(;;)switch(t.n){case 0:if(n=X(),e={},r="Crear Nuevo Evento",!n||isNaN(n)){t.n=2;break}return t.n=1,g("/events/".concat(n));case 1:(o=t.v).length>0&&(e=o[0],r="Editar Evento");case 2:return a=["Cultural","Deportivo","Social","Empresarial","Académico"],t.a(2,'\n            <div class="container mx-auto px-4 py-12 max-w-3xl">\n                <h1 class="text-3xl font-bold text-gray-800 mb-6">'.concat(r,'</h1>\n                <form id="event-form" class="bg-white p-8 rounded-lg shadow-lg">\n                    <div class="mb-4">\n                        <label for="name" class="block text-gray-700 font-bold mb-2">Nombre del Evento</label>\n                        <input type="text" id="name" name="name" value="').concat(e.name||"",'" class="w-full p-2 border border-gray-300 rounded" required>\n                    </div>\n                    <div class="mb-4">\n                        <label for="description" class="block text-gray-700 font-bold mb-2">Descripción</label>\n                        <textarea id="description" name="description" rows="4" class="w-full p-2 border border-gray-300 rounded" required>').concat(e.description||"",'</textarea>\n                    </div>\n                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">\n                        <div class="mb-4">\n                            <label for="date" class="block text-gray-700 font-bold mb-2">Fecha y Hora</label>\n                            <input type="datetime-local" id="date" name="date" value="').concat(e.date?new Date(e.date).toISOString().substring(0,16):"",'" class="w-full p-2 border border-gray-300 rounded" required>\n                        </div>\n                        <div class="mb-4">\n                            <label for="category" class="block text-gray-700 font-bold mb-2">Categoría</label>\n                            <select id="category" name="category" class="w-full p-2 border border-gray-300 rounded" required>\n                                ').concat(a.map(function(t){return'<option value="'.concat(t,'" ').concat(e.category===t?"selected":"",">").concat(t,"</option>")}).join(""),'\n                            </select>\n                        </div>\n                    </div>\n                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">\n                        <div class="mb-4">\n                            <label for="image" class="block text-gray-700 font-bold mb-2">URL de la Imagen</label>\n                            <input type="url" id="image" name="image" value="').concat(e.image||"",'" class="w-full p-2 border border-gray-300 rounded" required>\n                        </div>\n                        <div class="mb-4">\n                            <label for="capacity" class="block text-gray-700 font-bold mb-2">Capacidad (Nº de Asistentes)</label>\n                            <input type="number" id="capacity" name="capacity" value="').concat(e.capacity||0,'" min="0" class="w-full p-2 border border-gray-300 rounded" required>\n                        </div>\n                    </div>\n                    <div class="mt-6">\n                        <button type="submit" class="bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-lg transition duration-300">\n                            ').concat(n&&!isNaN(n)?"Actualizar Evento":"Guardar Evento","\n                        </button>\n                    </div>\n                </form>\n            </div>\n        "))}},t)}));return function(){return t.apply(this,arguments)}}(),after_render:function(){var t=tt(Y().m(function t(){var n,e;return Y().w(function(t){for(;;)switch(t.n){case 0:n=X(),e=r(),document.getElementById("event-form").addEventListener("submit",function(){var t=tt(Y().m(function t(r){var o,a,i,c,u,s,l,f,d,p;return Y().w(function(t){for(;;)switch(t.n){case 0:if(r.preventDefault(),i=e.id,c=document.getElementById("name").value,u=document.getElementById("description").value,s=document.getElementById("date").value,l=document.getElementById("category").value,f=document.getElementById("image").value,d=parseInt(document.getElementById("capacity").value,10),!n||isNaN(n)){t.n=2;break}return t.n=1,g("/events/".concat(n));case 1:p=t.v[0].attendees,t.n=3;break;case 2:p=[];case 3:if(o={userId:i,name:c,description:u,date:s,category:l,image:f,capacity:d,attendees:p},a=!1,!n||isNaN(n)){t.n=5;break}return t.n=4,b("/events/".concat(n),o);case 4:t.v&&(alert("¡Evento actualizado con éxito!"),a=!0),t.n=7;break;case 5:return t.n=6,y("/events",o);case 6:t.v&&(alert("¡Evento creado con éxito!"),a=!0);case 7:a?window.location.hash="admin"===e.role?"/admin/events":"/my-events":alert("Ocurrió un error. Por favor, inténtalo de nuevo.");case 8:return t.a(2)}},t)}));return function(n){return t.apply(this,arguments)}}());case 1:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}()};const et=nt;function rt(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function a(e,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return ot(s,"_invoke",function(e,r,o){var a,c,u,s=0,l=o||[],f=!1,d={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(n,e){return a=n,c=0,u=t,d.n=e,i}};function p(e,r){for(c=e,u=r,n=0;!f&&s&&!o&&n<l.length;n++){var o,a=l[n],p=d.p,v=a[2];e>3?(o=v===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=p&&((o=e<2&&p<a[1])?(c=0,d.v=r,d.n=a[1]):p<v&&(o=e<3||a[0]>r||r>v)&&(a[4]=e,a[5]=r,d.n=v,c=0))}if(o||e>1)return i;throw f=!0,r}return function(o,l,v){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,v),c=l,u=v;(n=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(d.n=-1),p(c,u)):d.n=u:d.v=u);try{if(s=2,a){if(c||(o="next"),n=a[o]){if(!(n=n.call(a,u)))throw TypeError("iterator result is not an object");if(!n.done)return n;u=n.value,c<2&&(c=0)}else 1===c&&(n=a.return)&&n.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((n=(f=d.n<0)?u:e.call(r,d))!==i)break}catch(n){a=t,c=1,u=n}finally{s=1}}return{value:n,done:f}}}(e,o,a),!0),s}var i={};function c(){}function u(){}function s(){}n=Object.getPrototypeOf;var l=[][r]?n(n([][r]())):(ot(n={},r,function(){return this}),n),f=s.prototype=c.prototype=Object.create(l);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,ot(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,ot(f,"constructor",s),ot(s,"constructor",u),u.displayName="GeneratorFunction",ot(s,o,"GeneratorFunction"),ot(f),ot(f,o,"Generator"),ot(f,r,function(){return this}),ot(f,"toString",function(){return"[object Generator]"}),(rt=function(){return{w:a,m:d}})()}function ot(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}ot=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var a=function(n,e){ot(t,n,function(t){return this._invoke(n,e,t)})};a("next",0),a("throw",1),a("return",2)}},ot(t,n,e,r)}function at(t,n,e,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void e(t)}c.done?n(u):Promise.resolve(u).then(r,o)}function it(t){return function(){var n=this,e=arguments;return new Promise(function(r,o){var a=t.apply(n,e);function i(t){at(a,r,o,i,c,"next",t)}function c(t){at(a,r,o,i,c,"throw",t)}i(void 0)})}}var ct={render:function(){var t=it(rt().m(function t(){var n,e,o;return rt().w(function(t){for(;;)switch(t.n){case 0:if(n=r()){t.n=1;break}return t.a(2,"<div>Acceso denegado</div>");case 1:return t.n=2,g("/events");case 2:return e=t.v,o=e.filter(function(t){return t.userId===n.id}),t.a(2,'\n            <div class="container mx-auto px-4 py-12">\n                <div class="flex justify-between items-center mb-6">\n                    <h1 class="text-3xl font-bold text-gray-800">Mis Eventos Creados</h1>\n                    <a href="#/create-event" class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-lg transition">\n                        + Crear Nuevo Evento\n                    </a>\n                </div>\n                <div class="bg-white shadow-lg rounded-lg overflow-x-auto">\n                    <table class="w-full table-auto">\n                        <thead class="bg-gray-800 text-white">\n                            <tr>\n                                <th class="px-4 py-3 text-left">Nombre del Evento</th>\n                                <th class="px-4 py-3 text-left">Fecha</th>\n                                <th class="px-4 py-3 text-left">Asistentes</th>\n                                <th class="px-4 py-3 text-center">Acciones</th>\n                            </tr>\n                        </thead>\n                        <tbody class="text-gray-700">\n                            '.concat(o.length>0?o.map(function(t){return'\n                                <tr class="border-b hover:bg-gray-100">\n                                    <td class="px-4 py-3">'.concat(t.name,'</td>\n                                    <td class="px-4 py-3">').concat(new Date(t.date).toLocaleString("es-ES"),'</td>\n                                    <td class="px-4 py-3">').concat(t.attendees.length," / ").concat(t.capacity,'</td>\n                                    <td class="px-4 py-3 text-center">\n                                        <a href="#/edit-event/').concat(t.id,'" class="bg-blue-500 hover:bg-blue-600 text-white text-sm font-bold py-1 px-3 rounded-lg mr-2">Editar</a>\n                                        <button data-id="').concat(t.id,'" class="delete-btn bg-red-500 hover:bg-red-600 text-white text-sm font-bold py-1 px-3 rounded-lg">Eliminar</button>\n                                    </td>\n                                </tr>\n                            ')}).join(""):'<tr><td colspan="4" class="text-center p-6">Aún no has creado ningún evento.</td></tr>',"\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        "))}},t)}));return function(){return t.apply(this,arguments)}}(),after_render:function(){var t=it(rt().m(function t(){return rt().w(function(t){for(;;)switch(t.n){case 0:document.querySelectorAll(".delete-btn").forEach(function(t){t.addEventListener("click",function(){var t=it(rt().m(function t(n){var e;return rt().w(function(t){for(;;)switch(t.n){case 0:if(e=n.target.dataset.id,!confirm("¿Estás seguro de que deseas eliminar este evento?")){t.n=2;break}return t.n=1,h("/events/".concat(e));case 1:window.location.reload();case 2:return t.a(2)}},t)}));return function(n){return t.apply(this,arguments)}}())});case 1:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}()};const ut=ct;function st(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function a(e,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return lt(s,"_invoke",function(e,r,o){var a,c,u,s=0,l=o||[],f=!1,d={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(n,e){return a=n,c=0,u=t,d.n=e,i}};function p(e,r){for(c=e,u=r,n=0;!f&&s&&!o&&n<l.length;n++){var o,a=l[n],p=d.p,v=a[2];e>3?(o=v===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=p&&((o=e<2&&p<a[1])?(c=0,d.v=r,d.n=a[1]):p<v&&(o=e<3||a[0]>r||r>v)&&(a[4]=e,a[5]=r,d.n=v,c=0))}if(o||e>1)return i;throw f=!0,r}return function(o,l,v){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,v),c=l,u=v;(n=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(d.n=-1),p(c,u)):d.n=u:d.v=u);try{if(s=2,a){if(c||(o="next"),n=a[o]){if(!(n=n.call(a,u)))throw TypeError("iterator result is not an object");if(!n.done)return n;u=n.value,c<2&&(c=0)}else 1===c&&(n=a.return)&&n.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((n=(f=d.n<0)?u:e.call(r,d))!==i)break}catch(n){a=t,c=1,u=n}finally{s=1}}return{value:n,done:f}}}(e,o,a),!0),s}var i={};function c(){}function u(){}function s(){}n=Object.getPrototypeOf;var l=[][r]?n(n([][r]())):(lt(n={},r,function(){return this}),n),f=s.prototype=c.prototype=Object.create(l);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,lt(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,lt(f,"constructor",s),lt(s,"constructor",u),u.displayName="GeneratorFunction",lt(s,o,"GeneratorFunction"),lt(f),lt(f,o,"Generator"),lt(f,r,function(){return this}),lt(f,"toString",function(){return"[object Generator]"}),(st=function(){return{w:a,m:d}})()}function lt(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}lt=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var a=function(n,e){lt(t,n,function(t){return this._invoke(n,e,t)})};a("next",0),a("throw",1),a("return",2)}},lt(t,n,e,r)}function ft(t,n,e,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void e(t)}c.done?n(u):Promise.resolve(u).then(r,o)}function dt(t){return function(){var n=this,e=arguments;return new Promise(function(r,o){var a=t.apply(n,e);function i(t){ft(a,r,o,i,c,"next",t)}function c(t){ft(a,r,o,i,c,"throw",t)}i(void 0)})}}var pt={render:function(){var t=dt(st().m(function t(){var n,e,o;return st().w(function(t){for(;;)switch(t.n){case 0:if(n=r()){t.n=1;break}return t.a(2,"<div>Acceso denegado</div>");case 1:return t.n=2,g("/events");case 2:return e=t.v,o=e.filter(function(t){return t.attendees.includes(n.id)}),t.a(2,'\n            <div class="container mx-auto px-4 py-12">\n                <h1 class="text-3xl font-bold text-gray-800 mb-8">Mis Suscripciones</h1>\n                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">\n                    '.concat(o.length>0?o.map(function(t){return'\n                        <div class="bg-white rounded-lg shadow-lg overflow-hidden">\n                            <img src="'.concat(t.image,'" alt="').concat(t.name,'" class="w-full h-48 object-cover">\n                            <div class="p-6">\n                                <h3 class="text-xl font-bold text-gray-900 mb-2">').concat(t.name,'</h3>\n                                <p class="text-gray-600 text-sm mb-4">').concat(new Date(t.date).toLocaleString("es-ES"),'</p>\n                                <button data-event-id="').concat(t.id,'" class="cancel-subscription-btn w-full bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded-lg transition">\n                                    Cancelar Suscripción\n                                </button>\n                            </div>\n                        </div>\n                    ')}).join(""):'<p class="col-span-full text-center text-gray-600">No estás inscrito en ningún evento todavía.</p>',"\n                </div>\n            </div>\n        "))}},t)}));return function(){return t.apply(this,arguments)}}(),after_render:function(){var t=dt(st().m(function t(){var n,e;return st().w(function(t){for(;;)switch(t.n){case 0:n=document.querySelectorAll(".cancel-subscription-btn"),e=r(),n.forEach(function(t){t.addEventListener("click",function(){var t=dt(st().m(function t(n){var r,o,a;return st().w(function(t){for(;;)switch(t.n){case 0:if(e&&"register"===e.role){t.n=1;break}return t.a(2);case 1:if(r=n.target.dataset.eventId,!confirm("¿Estás seguro de que deseas cancelar tu inscripción a este evento?")){t.n=4;break}return t.n=2,g("/events/".concat(r));case 2:if(o=t.v,!(a=o[0])){t.n=4;break}return a.attendees=a.attendees.filter(function(t){return t!==e.id}),t.n=3,b("/events/".concat(r),a);case 3:alert("Inscripción cancelada."),window.location.reload();case 4:return t.a(2)}},t)}));return function(n){return t.apply(this,arguments)}}())});case 1:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}()};const vt=function(t){if(t.length<3)return t;var n=t.split("/");return isNaN(n[n.length-1])?t:"/".concat(n[1],"/:id")};function yt(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function a(e,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return bt(s,"_invoke",function(e,r,o){var a,c,u,s=0,l=o||[],f=!1,d={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(n,e){return a=n,c=0,u=t,d.n=e,i}};function p(e,r){for(c=e,u=r,n=0;!f&&s&&!o&&n<l.length;n++){var o,a=l[n],p=d.p,v=a[2];e>3?(o=v===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=p&&((o=e<2&&p<a[1])?(c=0,d.v=r,d.n=a[1]):p<v&&(o=e<3||a[0]>r||r>v)&&(a[4]=e,a[5]=r,d.n=v,c=0))}if(o||e>1)return i;throw f=!0,r}return function(o,l,v){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,v),c=l,u=v;(n=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(d.n=-1),p(c,u)):d.n=u:d.v=u);try{if(s=2,a){if(c||(o="next"),n=a[o]){if(!(n=n.call(a,u)))throw TypeError("iterator result is not an object");if(!n.done)return n;u=n.value,c<2&&(c=0)}else 1===c&&(n=a.return)&&n.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((n=(f=d.n<0)?u:e.call(r,d))!==i)break}catch(n){a=t,c=1,u=n}finally{s=1}}return{value:n,done:f}}}(e,o,a),!0),s}var i={};function c(){}function u(){}function s(){}n=Object.getPrototypeOf;var l=[][r]?n(n([][r]())):(bt(n={},r,function(){return this}),n),f=s.prototype=c.prototype=Object.create(l);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,bt(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,bt(f,"constructor",s),bt(s,"constructor",u),u.displayName="GeneratorFunction",bt(s,o,"GeneratorFunction"),bt(f),bt(f,o,"Generator"),bt(f,r,function(){return this}),bt(f,"toString",function(){return"[object Generator]"}),(yt=function(){return{w:a,m:d}})()}function bt(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}bt=function(t,n,e,r){if(n)o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e;else{var a=function(n,e){bt(t,n,function(t){return this._invoke(n,e,t)})};a("next",0),a("throw",1),a("return",2)}},bt(t,n,e,r)}function ht(t,n,e,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void e(t)}c.done?n(u):Promise.resolve(u).then(r,o)}var gt={"/":O,"/login":G,"/register":D,"/admin/dashboard":z,"/admin/events":Q,"/my-events":ut,"/my-subscriptions":pt,"/create-event":et,"/edit-event/:id":et};const mt=function(){var t,n=(t=yt().m(function t(){var n,e,o,a,i,c,s,l,f,d;return yt().w(function(t){for(;;)switch(t.n){case 0:return n=document.getElementById("header"),e=document.getElementById("content"),t.n=1,u.render();case 1:return n.innerHTML=t.v,t.n=2,u.after_render();case 2:return o=X(),t.n=3,vt(o);case 3:if(a=t.v,i=r(),c=["/my-events","/my-subscriptions"],s=["/create-event","/edit-event/:id"],l=!0,f="",["/admin/dashboard","/admin/events"].includes(a)?i&&"admin"===i.role||(l=!1,f="Administrador"):c.includes(a)?i&&"register"===i.role||(l=!1,f="Usuario Registrado"):s.includes(a)&&(!i||"admin"!==i.role&&"register"!==i.role)&&(l=!1,f="Administrador o Usuario Registrado"),l){t.n=4;break}return alert("Acceso denegado. Necesitas ser ".concat(f," para acceder a esta página.")),window.location.hash="/",t.a(2);case 4:return d=gt[a]?gt[a]:L,t.n=5,d.render();case 5:if(e.innerHTML=t.v,!d.after_render){t.n=6;break}return t.n=6,d.after_render();case 6:return t.a(2)}},t)}),function(){var n=this,e=arguments;return new Promise(function(r,o){var a=t.apply(n,e);function i(t){ht(a,r,o,i,c,"next",t)}function c(t){ht(a,r,o,i,c,"throw",t)}i(void 0)})});return function(){return n.apply(this,arguments)}}();window.addEventListener("load",mt),window.addEventListener("hashchange",mt)})();